# Mosquitto MQTT Broker Configuration
# Минимальная конфигурация для Meshtastic-Telegram Bridge

# Слушаем на всех интерфейсах
listener 1883 0.0.0.0
protocol mqtt

# Аутентификация по логину/паролю
allow_anonymous false
password_file /mosquitto/config/password.conf

# Логирование
# Вывод в stdout (видно через docker logs)
log_dest stdout
# Вывод в файл на хосте
log_dest file /mosquitto/log/mosquitto.log
log_type error
log_type warning
log_type notice
log_type information

# Персистентность
persistence true
persistence_location /mosquitto/data/

# Автоматически сохранять сообщения при отключении клиента
persistent_client_expiration 1h
